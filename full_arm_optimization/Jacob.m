function Jac = Jacob(q_,x)
    global input
    d1 = x(1); d2 = x(2); d3 = x(3); d4 = 0; tool = input.tool;
    a1 = 0; a2 = 0; a3 = 0; a4 = x(4);
    q = @(n)q_(n+1);
    
    Jac(1) = -a1*sin(q(0)) - a2*sin(q(0))*cos(q(1)) - a3*sin(q(0))*cos(q(1))*cos(q(2)) - a3*sin(q(2))*cos(q(0)) - a4*(sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) + a4*sin(q(0))*sin(q(1))*cos(q(3)) + d2*cos(q(0)) + d3*sin(q(0))*sin(q(1)) - d4*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) - tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5)));
    Jac(2) = -(a2*sin(q(1)) + a3*sin(q(1))*cos(q(2)) + a4*sin(q(1))*sin(q(3))*cos(q(2)) + a4*cos(q(1))*cos(q(3)) + d3*cos(q(1)) - d4*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5))))*cos(q(0));
    Jac(3) = -(a3*sin(q(1))*cos(q(2)) + a4*sin(q(1))*sin(q(3))*cos(q(2)) + a4*cos(q(1))*cos(q(3)) + d3*cos(q(1)) - d4*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5))))*sin(q(0))*sin(q(1)) - (a3*sin(q(0))*cos(q(1))*cos(q(2)) + a3*sin(q(2))*cos(q(0)) + a4*(sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - a4*sin(q(0))*sin(q(1))*cos(q(3)) - d3*sin(q(0))*sin(q(1)) + d4*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5))))*cos(q(1));
    Jac(4) = (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*(a4*sin(q(1))*sin(q(3))*cos(q(2)) + a4*cos(q(1))*cos(q(3)) - d4*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5)))) + (a4*(sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - a4*sin(q(0))*sin(q(1))*cos(q(3)) + d4*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5))))*sin(q(1))*sin(q(2));
    Jac(5) = tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5)))*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5)))*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)));
    Jac(6) = -tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5)))*((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*sin(q(4)) - (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*cos(q(4))) + tool*(((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*sin(q(4)) - ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*cos(q(4)))*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5)));
    Jac(7) = 0;
    Jac(8) = a1*cos(q(0)) + a2*cos(q(0))*cos(q(1)) - a3*sin(q(0))*sin(q(2)) + a3*cos(q(0))*cos(q(1))*cos(q(2)) + a4*(-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - a4*sin(q(1))*cos(q(0))*cos(q(3)) + d2*sin(q(0)) - d3*sin(q(1))*cos(q(0)) + d4*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1))) + tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5)));
    Jac(9) = -(a2*sin(q(1)) + a3*sin(q(1))*cos(q(2)) + a4*sin(q(1))*sin(q(3))*cos(q(2)) + a4*cos(q(1))*cos(q(3)) + d3*cos(q(1)) - d4*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5))))*sin(q(0));
    Jac(10) = (a3*sin(q(1))*cos(q(2)) + a4*sin(q(1))*sin(q(3))*cos(q(2)) + a4*cos(q(1))*cos(q(3)) + d3*cos(q(1)) - d4*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5))))*sin(q(1))*cos(q(0)) + (-a3*sin(q(0))*sin(q(2)) + a3*cos(q(0))*cos(q(1))*cos(q(2)) + a4*(-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - a4*sin(q(1))*cos(q(0))*cos(q(3)) - d3*sin(q(1))*cos(q(0)) + d4*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1))) + tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5))))*cos(q(1));
    Jac(11) = -(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*(a4*sin(q(1))*sin(q(3))*cos(q(2)) + a4*cos(q(1))*cos(q(3)) - d4*sin(q(1))*sin(q(2)) + tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5)))) - (a4*(-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - a4*sin(q(1))*cos(q(0))*cos(q(3)) + d4*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1))) + tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5))))*sin(q(1))*sin(q(2));
    Jac(12) = -tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5)))*sin(q(1))*sin(q(2)) - tool*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5)))*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)));
    Jac(13) = tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5)))*((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*sin(q(4)) - (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*cos(q(4))) - tool*(((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*sin(q(4)) - ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*cos(q(4)))*(((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5)));
    Jac(14) = 0;
    Jac(15) = 0;
    Jac(16) = (a2*sin(q(0))*cos(q(1)) + a3*sin(q(0))*cos(q(1))*cos(q(2)) + a3*sin(q(2))*cos(q(0)) + a4*(sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - a4*sin(q(0))*sin(q(1))*cos(q(3)) - d2*cos(q(0)) - d3*sin(q(0))*sin(q(1)) + d4*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5))))*sin(q(0)) + (a2*cos(q(0))*cos(q(1)) - a3*sin(q(0))*sin(q(2)) + a3*cos(q(0))*cos(q(1))*cos(q(2)) + a4*(-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - a4*sin(q(1))*cos(q(0))*cos(q(3)) + d2*sin(q(0)) - d3*sin(q(1))*cos(q(0)) + d4*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1))) + tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5))))*cos(q(0));
    Jac(17) = (-a3*sin(q(0))*sin(q(2)) + a3*cos(q(0))*cos(q(1))*cos(q(2)) + a4*(-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - a4*sin(q(1))*cos(q(0))*cos(q(3)) - d3*sin(q(1))*cos(q(0)) + d4*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1))) + tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5))))*sin(q(0))*sin(q(1)) - (a3*sin(q(0))*cos(q(1))*cos(q(2)) + a3*sin(q(2))*cos(q(0)) + a4*(sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - a4*sin(q(0))*sin(q(1))*cos(q(3)) - d3*sin(q(0))*sin(q(1)) + d4*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5))))*sin(q(1))*cos(q(0));
    Jac(18) = (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*(a4*(sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - a4*sin(q(0))*sin(q(1))*cos(q(3)) + d4*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5)))) - (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*(a4*(-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - a4*sin(q(1))*cos(q(0))*cos(q(3)) + d4*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1))) + tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5))));
    Jac(19) = -tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5)))*(-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5)))*(-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)));
    Jac(20) = -tool*((((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5)))*(((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*sin(q(4)) - ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*cos(q(4))) + tool*((((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5)))*(((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*sin(q(4)) - ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*cos(q(4)));
    Jac(21) = 0;
    Jac(22) = 0;
    Jac(23) = sin(q(0));
    Jac(24) = -sin(q(1))*cos(q(0));
    Jac(25) = -sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1));
    Jac(26) = -sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1));
    Jac(27) = ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*sin(q(4)) - ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*cos(q(4));
    Jac(28) = (((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*sin(q(3)) - sin(q(1))*cos(q(0))*cos(q(3)))*cos(q(4)) + ((-sin(q(0))*sin(q(2)) + cos(q(0))*cos(q(1))*cos(q(2)))*cos(q(3)) + sin(q(1))*sin(q(3))*cos(q(0)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*cos(q(2)) - sin(q(2))*cos(q(0))*cos(q(1)))*sin(q(5));
    Jac(29) = 0;
    Jac(30) = -cos(q(0));
    Jac(31) = -sin(q(0))*sin(q(1));
    Jac(32) = -sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2));
    Jac(33) = -sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2));
    Jac(34) = ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*sin(q(4)) - ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*cos(q(4));
    Jac(35) = (((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*sin(q(3)) - sin(q(0))*sin(q(1))*cos(q(3)))*cos(q(4)) + ((sin(q(0))*cos(q(1))*cos(q(2)) + sin(q(2))*cos(q(0)))*cos(q(3)) + sin(q(0))*sin(q(1))*sin(q(3)))*sin(q(4)))*cos(q(5)) + (-sin(q(0))*sin(q(2))*cos(q(1)) + cos(q(0))*cos(q(2)))*sin(q(5));
    Jac(36) = 1;
    Jac(37) = 0;
    Jac(38) = cos(q(1));
    Jac(39) = -sin(q(1))*sin(q(2));
    Jac(40) = -sin(q(1))*sin(q(2));
    Jac(41) = (sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*sin(q(4)) - (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*cos(q(4));
    Jac(42) = ((sin(q(1))*sin(q(3))*cos(q(2)) + cos(q(1))*cos(q(3)))*cos(q(4)) + (sin(q(1))*cos(q(2))*cos(q(3)) - sin(q(3))*cos(q(1)))*sin(q(4)))*cos(q(5)) - sin(q(1))*sin(q(2))*sin(q(5));
    Jac = reshape(Jac,7,[])';
end